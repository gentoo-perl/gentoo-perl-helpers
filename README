
REQUIREMENTS:

- Gentoo
- app-portage/portage-utils (qatom)
- sys-apps/coreutils (sort)
- sys-apps/findutils (xargs)
- sys-apps/grep (grep)
- sys-apps/portage  (portageq)
- sys-apps/sed (sed)

USAGE From Git Checkout:

 git clone <REPO>
 pushd <CLONEDIR>

Generating the sets automatically in /etc/portage/sets:

 bin/gentoo-perl gen-upgrade-sets 5.20 5.22

Generating the sets in another dir as a non-privlegled user:

 ETC_PORTAGE_SETS=/tmp/sets/ bin/gentoo-perl gen-upgrade-sets 5.20 5.22
 sudo cp /tmp/sets/* /etc/portage/sets/*

Performing the upgrade:

  sudo emerge -va1 -k n @perl-upgrade

If portage gets stuck with perl-core/* ( it shouldn't, but it might )

  sudo emerge -C -va @perl-cleanup

Will purge them for you, and a subsequent retry should then work.
